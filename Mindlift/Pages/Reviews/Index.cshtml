@page
@model Mindlift.Pages.Reviews.IndexModel
@{
    ViewData["Title"] = "Book Reviews";
}

<head>
    <link href="~/css/Reviews.css" rel="stylesheet" />
</head>

<div class="container review-container">
    <h2 class="text-center page-title">Book Reviews</h2>

    <div class="text-center">
        <a asp-page="Create" class="btn btn-create">
            <i class="fas fa-plus-circle me-2"></i>Write a Review
        </a>
    </div>

    <div class="row">
        @foreach (var review in Model.Review)
        {
            <div class="col-md-4">
                <div class="card review-card">
                    <img src="https://covers.openlibrary.org/b/isbn/9788820030971-L.jpg"
                         alt="Book cover"
                         class="book-image">
                    <div class="card-body">
                        <h5 class="card-title">@review.BookTitle</h5>
                        <div class="review-rating">
                            <span class="stars">
                                @for (int i = 0; i < review.Rating; i++)
                                {
                                    <i class="fas fa-star"></i>
                                }
                                @for (int i = review.Rating; i < 5; i++)
                                {
                                    <i class="far fa-star"></i>
                                }
                            </span>
                        </div>
                        <p class="review-comment">@review.Comment</p>
                        <p class="review-date">
                            <i class="far fa-calendar-alt me-2"></i>
                            @review.ReviewDate.ToString("MMMM dd, yyyy")
                        </p>
                    </div>
                    <div class="card-footer text-center">
                        <a asp-page="./Edit" asp-route-id="@review.ReviewId" class="btn btn-action">
                            <i class="fas fa-edit me-1"></i>Edit
                        </a>
                        <a asp-page="./Details" asp-route-id="@review.ReviewId" class="btn btn-action">
                            <i class="fas fa-info-circle me-1"></i>Details
                        </a>
                        <a asp-page="./Delete" asp-route-id="@review.ReviewId" class="btn btn-action btn-delete">
                            <i class="fas fa-trash-alt me-1"></i>Delete
                        </a>
                    </div>
                </div>
            </div>
        }
    </div>
</div>

@section Scripts {
    <script src="~/js/Reviews.js"></script>
}
