@page
@model Mindlift.Pages.Reviews.CreateModel
@{
    ViewData["Title"] = "Create Review";
}

<style>
    .create-review-container {
        max-width: 800px;
        margin: 40px auto;
        padding: 30px;
        background-color: #fff3e6;
        border-radius: 15px;
        box-shadow: 0 4px 15px rgba(216, 84, 58, 0.1);
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .form-heading {
        color: #5d4037;
        text-align: center;
        margin-bottom: 20px;
        font-weight: 600;
        font-size: 2.2rem;
    }

    .form-subheading {
        color: #886d65;
        text-align: center;
        margin-bottom: 30px;
        font-size: 1.1rem;
    }

    .form-group {
        margin-bottom: 25px;
    }

    .form-label {
        color: #5d4037;
        font-weight: 500;
        margin-bottom: 8px;
        font-size: 1rem;
    }

    .form-control {
        border: 2px solid #ffccbc;
        border-radius: 8px;
        padding: 12px 15px;
        background-color: white;
        transition: all 0.3s ease;
    }

        .form-control:focus {
            border-color: #d8543a;
            box-shadow: 0 0 0 0.2rem rgba(216, 84, 58, 0.25);
        }

    .rating-container {
        display: flex;
        flex-direction: row-reverse;
        justify-content: flex-end;
        padding: 10px 0;
    }

        .rating-container input {
            display: none;
        }

        .rating-container label {
            cursor: pointer;
            font-size: 30px;
            color: #ffccbc;
            padding: 0 5px;
            transition: color 0.3s ease;
        }

            .rating-container label:hover,
            .rating-container label:hover ~ label,
            .rating-container input:checked ~ label {
                color: #d8543a;
            }

    textarea.form-control {
        min-height: 120px;
        resize: vertical;
    }

    .btn-submit {
        background-color: #d8543a;
        border: none;
        color: white;
        padding: 12px 30px;
        font-size: 1.1rem;
        border-radius: 8px;
        width: 100%;
        margin-top: 20px;
        transition: all 0.3s ease;
    }

        .btn-submit:hover {
            background-color: #c14836;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(216, 84, 58, 0.2);
        }

    .back-link {
        text-align: center;
        margin-top: 25px;
    }

        .back-link a {
            color: #d8543a;
            text-decoration: none;
            font-size: 1rem;
            transition: color 0.3s ease;
            display: inline-flex;
            align-items: center;
        }

            .back-link a:hover {
                color: #c14836;
            }

        .back-link i {
            margin-right: 8px;
        }

    .validation-summary {
        background-color: #fff;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 20px;
    }

    .text-danger {
        color: #dc3545;
        font-size: 0.9rem;
        margin-top: 5px;
        display: block;
    }
</style>

<div class="create-review-container">
    <h1 class="form-heading">Create Review</h1>
    <p class="form-subheading">Share your thoughts about the book</p>

    <form method="post">
        <div asp-validation-summary="ModelOnly" class="text-danger validation-summary"></div>

        <!-- Book Title Field -->
        <div class="form-group">
            <label asp-for="Review.BookTitle" class="form-label">Book Title</label>
            <input asp-for="Review.BookTitle"
                   class="form-control"
                   placeholder="Enter the book title" />
            <span asp-validation-for="Review.BookTitle" class="text-danger"></span>
        </div>


        <!-- Rating Field -->
        <div class="form-group">
            <label class="form-label">Rating</label>
            <div class="rating-container">
                @for (int i = 5; i >= 1; i--)

                {
                    <input type="radio" id="star@(i)" name="Review.Rating" value="@i" />
                    <label for="star@(i)" title="@i stars">★</label>
                }
            </div>
            <span asp-validation-for="Review.Rating" class="text-danger"></span>
        </div>

        <!-- Comment Field -->
        <div class="form-group">
            <label asp-for="Review.Comment" class="form-label">Your Review</label>
<textarea asp-for="Review.Comment"
          class="form-control"
          placeholder="Share your experience with the book..."
          rows="4"></textarea>
            <span asp-validation-for="Review.Comment" class="text-danger"></span>
        </div>

        <!-- Review Date Field -->
        <div class="form-group">
            <label asp-for="Review.ReviewDate" class="form-label">Review Date</label>
            <input asp-for="Review.ReviewDate"
                   class="form-control"
                   type="date" />
            <span asp-validation-for="Review.ReviewDate" class="text-danger"></span>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn-submit">
            <i class="fas fa-paper-plane me-2"></i>Submit Review
        </button>
    </form>

    <!-- Back Link -->
    <div class="back-link">
        <a asp-page="Index">
            <i class="fas fa-arrow-left"></i>
            Back to Reviews
        </a>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Animate form container
            const container = document.querySelector('.create-review-container');
            setTimeout(() => {
                container.style.opacity = '1';
                container.style.transform = 'translateY(0)';
            }, 300);

            // Set default date to today
            const dateInput = document.querySelector('input[type="date"]');
            if (dateInput) {
                const today = new Date().toISOString().split('T')[0];
                dateInput.value = today;
            }

            // Add animation to submit button
            const submitBtn = document.querySelector('.btn-submit');
            submitBtn.addEventListener('mouseenter', () => {
                submitBtn.style.transform = 'translateY(-2px)';
            });
            submitBtn.addEventListener('mouseleave', () => {
                submitBtn.style.transform = 'translateY(0)';
            });
        });
    </script>
}
